## ЁЯФР PostgreSQL-ржП Primary Key ржПржмржВ Foreign Key

### ЁЯЯб Primary Key (ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрж┐)

**Primary Key** рж╣рж▓ ржПржХржЯрж┐ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржХрж▓рж╛ржо ржпрж╛ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ **ржЕржирзНржпржжрзЗрж░ ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж╢ржирж╛ржХрзНржд** ржХрж░рзЗред

#### тЬЕ ржмрзИрж╢рж┐рж╖рзНржЯрзНржпрж╕ржорзВрж╣:
- ржкрзНрж░рждрж┐ржЯрж┐ ржорж╛ржи **ржЗржЙржирж┐ржХ** рж╣рждрзЗ рж╣ржмрзЗред
- **NULL** ржорж╛ржи рж░рж╛ржЦрж╛ ржпрж╛ржмрзЗ ржирж╛ред
- ржкрзНрж░рждрж┐ ржЯрзЗржмрж┐рж▓рзЗ **ржорж╛рждрзНрж░ ржПржХржЯрж┐ Primary Key** ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред
- ржПржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбрзЗрж░ **ржЖржЗржбрзЗржирзНржЯрж┐ржЯрж┐ ржХрж╛рж░рзНржб** рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

#### ЁЯУШ ржмрзНржпржмрж╣рж╛рж░ ржХрзЗржи:
ржпрзЗржоржи ржПржХржЯрж┐ ржЬрж╛рждрзАржпрж╝ ржкрж░рж┐ржЪржпрж╝ржкрждрзНрж░ (NID) ржкрзНрж░рждрж┐ржЯрж┐ ржирж╛ржЧрж░рж┐ржХржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж╢ржирж╛ржХрзНржд ржХрж░рзЗ, ржарж┐ржХ рждрзЗржоржирж┐ Primary Key ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗред

#### ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE TABLE students (
  student_id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  email TEXT UNIQUE
);
```
ржПржЦрж╛ржирзЗ student_id ржкрзНрж░рждрж┐ржЯрж┐ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗред

### ЁЯЯб Foreign Key (ржлрж░рзЗржЗржи ржХрж┐)
- Foreign Key ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржпрж╛ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓ржХрзЗ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд ржХрж░рзЗ, ржПржмржВ рж╕рзЗржЗ ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржХрзЗ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░рзЗред

тЬЕ ржмрзИрж╢рж┐рж╖рзНржЯрзНржпрж╕ржорзВрж╣:
- ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓ржХрзЗ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗред

- ржбрзЗржЯрж╛рж░ рж╕ржарж┐ржХрждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ (ржпрзЗржоржи: ржнрзБрж▓ ржмрж┐ржнрж╛ржЧ ID рж░рж╛ржЦрждрзЗ ржжрзЗрзЯ ржирж╛)ред

- NULL ржорж╛ржи ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ ржпржжрж┐ рж╕ржорзНржкрж░рзНржХржЯрж┐ ржРржЪрзНржЫрж┐ржХ рж╣рзЯред

- ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржПржХрж╛ржзрж┐ржХ Foreign Key ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред

ЁЯУШ ржмрзНржпржмрж╣рж╛рж░ ржХрзЗржи:

ржПржХржЯрж┐ students ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗ ржПржмржВ ржПржХржЯрж┐ departments ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗред ржкрзНрж░рждрж┐ржЯрж┐ ржЫрж╛рждрзНрж░ ржХрзЛржи ржмрж┐ржнрж╛ржЧрзЗ ржкрзЬржЫрзЗ, рж╕рзЗржЯрж╛ ржЬрж╛ржирж╛рждрзЗ students ржЯрзЗржмрж┐рж▓рзЗ dept_id ржирж╛ржорзЗрж░ ржПржХржЯрж┐ Foreign Key рж░рж╛ржЦрж╛ рж╣рзЯ ржпрж╛ departments ржЯрзЗржмрж┐рж▓рзЗрж░ dept_id ржХрзЗ рж░рзЗржлрж╛рж░ ржХрж░рзЗред

ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE TABLE departments (
  dept_id SERIAL PRIMARY KEY,
  dept_name TEXT NOT NULL
);

CREATE TABLE students (
  student_id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  dept_id INT REFERENCES departments(dept_id)
);
```
ржПржЦрж╛ржирзЗ students.dept_id рж╣рж▓ departments.dept_id ржПрж░ ржЙржкрж░рзЗ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рждрзИрж░рж┐ ржХрж░рж╛ ржПржХржЯрж┐ Foreign Keyред








## ЁЯФд PostgreSQL-ржП `VARCHAR` ржПржмржВ `CHAR` ржПрж░ ржоржзрзНржпрзЗ ржкрж╛рж░рзНржержХрзНржп

`CHAR` ржПржмржВ `VARCHAR` ржЙржнрзЯржЗ **ржЯрзЗржХрзНрж╕ржЯ ржмрж╛ рж╕рзНржЯрзНрж░рж┐ржВ ржбрзЗржЯрж╛ ржЯрж╛ржЗржк**, ржпрж╛ PostgreSQL-ржП ржЕржХрзНрж╖рж░ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред рждржмрзЗ ржПржжрзЗрж░ ржоржзрзНржпрзЗ ржХрж┐ржЫрзБ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкрж╛рж░рзНржержХрзНржп рж░рзЯрзЗржЫрзЗ ржпрж╛ ржбрзЗржЯрж╛ржмрзЗржЬ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛рж░ рж╕ржорзЯ ржЬрж╛ржирж╛ ржЬрж░рзБрж░рж┐ред

---

### ЁЯЯж `CHAR(n)` (Fixed-Length Character)

- `CHAR(n)` рж╣рж▓ **рж╕рзНржерж┐рж░ ржжрзИрж░рзНржШрзНржпрзЗрж░** ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВ ржбрзЗржЯрж╛ ржЯрж╛ржЗржкред
- ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржпрждржЯрзБржХрзБ рж╕рзНржкрзЗрж╕ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗржи (`n`), PostgreSQL рждрждржЯрзБржХрзБржЗ ржмрж░рж╛ржжрзНржж ржХрж░рзЗ, ржПржоржиржХрж┐ ржпржжрж┐ рждрж╛рж░ ржЪрзЗрзЯрзЗ ржХржо ржбрзЗржЯрж╛ ржЗржиржкрзБржЯ ржжрзЗржи, рждрж╛ржУред
- ржЕржмрж╢рж┐рж╖рзНржЯ ржЕржВрж╢ **рж╕рж╛ржжрж╛ рж╕рзНржкрзЗрж╕ (space)** ржжрж┐рзЯрзЗ ржкрзВрж░ржг ржХрж░рзЗред
- ржЙржкржпрзБржХрзНржд ржпржЦржи рж╕рзНржЯрзНрж░рж┐ржВрзЯрзЗрж░ ржжрзИрж░рзНржШрзНржп рж╕ржмрж╕ржорзЯ ржПржХрж░ржХржо рж╣ржмрзЗ (ржпрзЗржоржи: PIN, ржХрзЛржб ржЗрждрзНржпрж╛ржжрж┐)ред

#### ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE TABLE codes (
  pin_code CHAR(6)
);

INSERT INTO codes VALUES ('123');
-- ржбрзЗржЯрж╛ ржЗржирж╕рж╛рж░рзНржЯ рж╣ржмрзЗ: '123   ' (рж╢рзЗрж╖рзЗ рзйржЯрж╛ рж╕рзНржкрзЗрж╕ рж╕рж╣)
```
ЁЯЯй VARCHAR(n) (Variable-Length Character)

- VARCHAR(n) рж╣рж▓ ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ ржжрзИрж░рзНржШрзНржпрзЗрж░ рж╕рзНржЯрзНрж░рж┐ржВ ржбрзЗржЯрж╛ ржЯрж╛ржЗржкред

- ржЗржиржкрзБржЯ рж╕рзНржЯрзНрж░рж┐ржВ-ржПрж░ ржжрзИрж░рзНржШрзНржп ржЕржирзБржпрж╛рзЯрзА ржЬрж╛рзЯржЧрж╛ ржмрж░рж╛ржжрзНржж ржХрж░рзЗред

- рж╕рж░рзНржмрзЛржЪрзНржЪ n ржЕржХрзНрж╖рж░рзЗрж░ ржоржзрзНржпрзЗ рж╕рзАржорж╛ржмржжрзНржз рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗ, рждржмрзЗ ржХржо рж╣рж▓рзЗ ржХрзЛржирзЛ рж╕рзНржкрзЗрж╕ ржпрзЛржЧ рж╣рзЯ ржирж╛ред

- ржЙржкржпрзБржХрзНржд ржпржЦржи рж╕рзНржЯрзНрж░рж┐ржВрзЯрзЗрж░ ржжрзИрж░рзНржШрзНржп ржнрж┐ржирзНржи ржнрж┐ржирзНржи рж╣рждрзЗ ржкрж╛рж░рзЗ (ржпрзЗржоржи: ржирж╛ржо, ржарж┐ржХрж╛ржирж╛ ржЗрждрзНржпрж╛ржжрж┐)ред

 ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE TABLE users (
  name VARCHAR(50)
);

INSERT INTO users VALUES ('Neon');

```











## тЬПя╕П PostgreSQL-ржП `UPDATE` рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржжрж┐рзЯрзЗ ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи

`UPDATE` рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ PostgreSQL ржбрзЗржЯрж╛ржмрзЗржЬрзЗрж░ **ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ рж╕рж╛рж░рж┐рж░ (row) рждржерзНржп ржкрж░рж┐ржмрж░рзНрждржи** ржХрж░рж╛ ржпрж╛рзЯред ржПржЯрж┐  ржмрж┐ржжрзНржпржорж╛ржи рждржерзНржпржХрзЗ ржирждрзБржи ржорж╛ржирзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

---

### ЁЯз▒ UPDATE рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗрж░ ржЧржаржи (Syntax)

```sql
UPDATE table_name
SET column1 = value1,
    column2 = value2,
    ...
WHERE condition;
```
ЁЯФН ржмрзНржпрж╛ржЦрзНржпрж╛:
table_name тЖТ ржпрзЗржЗ ржЯрзЗржмрж┐рж▓рзЗрж░ рждржерзНржп ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ ред

SET тЖТ ржХрзЛржи ржХрзЛржи ржХрж▓рж╛ржорзЗрж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣ржмрзЗред

WHERE тЖТ ржХрзЛржи рж╕рж╛рж░рж┐рж░/рж╕рж╛рж░рж┐ржЧрзБрж▓рзЛрж░ рждржерзНржп ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ, рждрж╛рж░ рж╢рж░рзНржд (condition)ред ржПржЗ ржЕржВрж╢ ржирж╛ ржжрж┐рж▓рзЗ рж╕ржм рж╕рж╛рж░рж┐ ржЖржкржбрзЗржЯ рж╣рзЯрзЗ ржпрж╛ржмрзЗ, ржпрж╛ ржмрж┐ржкржЬрзНржЬржиржХ рж╣рждрзЗ ржкрж╛рж░рзЗред

рж╕рж╛ржзрж╛рж░ржг ржЙржжрж╛рж╣рж░ржгржГ 

ржзрж░рж┐ ржПржХржЯрж┐ employees ржирж╛ржорзЗрж░ ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗ:

```sql
CREATE TABLE employees (
  id SERIAL PRIMARY KEY,
  name TEXT,
  salary NUMERIC
);
```
тЬЕ ржПржХржЬржи ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржмрзЗрждржи ржЖржкржбрзЗржЯ ржХрж░рж╛:
```sql
UPDATE employees
SET salary = 60000
WHERE id = 3;
```
ЁЯСЙ ржПржЗ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯржЯрж┐ id рзй ржирж╛ржорзНржмрж╛рж░ ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржмрзЗрждржи 60000 ржХрж░рзЗ ржжрзЗржмрзЗред

ржПржХрж╛ржзрж┐ржХ ржХрж▓рж╛ржо ржЖржкржбрзЗржЯ ржХрж░рж╛:
```sql
UPDATE employees
SET name = 'Shafayat', salary = 70000
WHERE id = 5;
```
ЁЯСЙ ржПржЦрж╛ржирзЗ id рзл-ржПрж░ ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржирж╛ржо ржУ ржмрзЗрждржи ржПржХрж╕рж╛ржерзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

тЪая╕П рж╕рждрж░рзНржХрждрж╛:
тЭМ ржпржжрж┐  **WHERE**  ржХрзНрж▓ржЬ ржмрж╛ржж ржкрзЬрзЗ:
```sql
UPDATE employees
SET salary = 50000;
```
ЁЯСЙ ржПржЯрж┐ рж╕ржм ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржмрзЗрждржи ржПржХржпрзЛржЧрзЗ рзлрзж,рзжрзжрзж ржХрж░рзЗ ржжрзЗржмрзЗ!
тЮбя╕П рж╕рзЗржЬржирзНржп **WHERE** ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржЕрждрзНржпржирзНржд ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред














## ЁЯзо PostgreSQL-ржП `GROUP BY` ржХрзНрж▓ржЬ ржУ Aggregation-ржП ржПрж░ ржнрзВржорж┐ржХрж╛

`GROUP BY` рж╣рж▓ SQL-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржХрзНрж▓ржЬ ржпрж╛ ржбрзЗржЯрж╛ржХрзЗ **ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржЧрзНрж░рзБржк ржмрж╛ ржнрж╛ржЧрзЗ ржнрж╛ржЧ** ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред ржПржЗ ржЧрзНрж░рзБржк ржХрж░рж╛ ржбрзЗржЯрж╛рж░ ржЙржкрж░ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржлрж╛ржВрж╢ржи (ржпрзЗржоржи: `COUNT()`, `SUM()`, `AVG()`, `MAX()`, `MIN()`) ржкрзНрж░рзЯрзЛржЧ ржХрж░рзЗ **рж╕рж╛рж░рж╛ржВрж╢ рж░рж┐ржкрзЛрж░рзНржЯ** рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯред

---

### ЁЯз▒ `GROUP BY` ржПрж░ рж╕рж╛ржзрж╛рж░ржг ржЧржаржи (Syntax):

```sql
SELECT column_name, aggregate_function(column_or_expression)
FROM table_name
WHERE condition
GROUP BY column_name;
```
ржХрзЗржи **GROUP BY** ржжрж░ржХрж╛рж░?
ржЖржорж░рж╛ ржпржжрж┐ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржХржЗ ржзрж░ржирзЗрж░ ржбрзЗржЯрж╛ржХрзЗ ржПржХрждрзНрж░ ржХрж░рзЗ рждрж╛рж░ ржЙржкрж░ ржЧржгржирж╛ ржХрж░рждрзЗ ржЪрж╛ржЗтАФржпрзЗржоржи ржкрзНрж░рждрж┐ ржмрж┐ржнрж╛ржЧрзЗ ржХрждржЬржи ржХрж░рзНржоржЪрж╛рж░рзА, ржкрзНрж░рждрж┐ ржкржгрзНржпрзЗ ржорзЛржЯ ржмрж┐ржХрзНрж░рж┐, ржкрзНрж░рждрж┐ рж╢рж╣рж░рзЗ ржЧрзЬ ржЖрзЯ ржЗрждрзНржпрж╛ржжрж┐тАФрждржЦржи **GROUP BY** ржЕрждрзНржпржирзНржд ржХрж╛рж░рзНржпржХрж░ред

ржЙржжрж╛рж╣рж░ржг рзз: 

ржкрзНрж░рждрж┐ ржмрж┐ржнрж╛ржЧрзЗ ржХржд ржХрж░рзНржоржЪрж╛рж░рзА ржЖржЫрзЗ?
ржзрж░рж┐ ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ employees ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗ:

```sql
CREATE TABLE employees (
  id SERIAL PRIMARY KEY,
  name TEXT,
  department TEXT,
  salary NUMERIC
);
```
ржПржЦржи ржЖржорж░рж╛ ржкрзНрж░рждрж┐ржЯрж┐ ржмрж┐ржнрж╛ржЧрзЗ ржХрждржЬржи ржХрж░рзНржоржЪрж╛рж░рзА ржЖржЫрзЗ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗ:

```sql
SELECT department, COUNT(*) AS total_employees
FROM employees
GROUP BY department;
```
ЁЯФН ржмрзНржпрж╛ржЦрзНржпрж╛:

department ржЕржирзБржпрж╛рзЯрзА рж╕ржм ржХрж░рзНржоржЪрж╛рж░рзАржХрзЗ ржнрж╛ржЧ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

ржкрзНрж░рждрж┐ржЯрж┐ ржмрж┐ржнрж╛ржЧрзЗрж░ ржЬржирзНржп ржХрж░рзНржоржЪрж╛рж░рзАрж░ рж╕ржВржЦрзНржпрж╛ ржЧржгржирж╛ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

 ржЙржжрж╛рж╣рж░ржг рзи: 
 
 ржкрзНрж░рждрж┐ ржмрж┐ржнрж╛ржЧрзЗрж░ ржорзЛржЯ ржмрзЗрждржи:
```sql
SELECT department, SUM(salary) AS total_salary
FROM employees
GROUP BY department;
```
тЮбя╕П ржПржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржмрж┐ржнрж╛ржЧрзЗрж░ рж╕ржм ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржорзЛржЯ ржмрзЗрждржирзЗрж░ рж╣рж┐рж╕рж╛ржм ржжрзЗржЦрж╛ржмрзЗред

 ржЙржжрж╛рж╣рж░ржг рзй: 
 
 ржкрзНрж░рждрж┐ ржмрж┐ржнрж╛ржЧрзЗрж░ рж╕рж░рзНржмрзЛржЪрзНржЪ ржмрзЗрждржи:
```sql
SELECT department, MAX(salary) AS highest_salary
FROM employees
GROUP BY department;
```
 ржЙржжрж╛рж╣рж░ржг рзк: 
 
 ржкрзНрж░рждрж┐ ржмрж┐ржнрж╛ржЧрзЗ ржЧрзЬ ржмрзЗрждржи:
```sql
SELECT department, AVG(salary) AS average_salary
FROM employees
GROUP BY department;
```
**SELECT** ржХрзНрж▓ржЬрзЗ ржпрзЗрж╕ржм ржХрж▓рж╛ржо ржерж╛ржХржмрзЗ, рж╕рзЗржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржирж╛ рж╣рж▓рзЗ рж╕рзЗржЧрзБрж▓рзЛ ржЕржмрж╢рзНржпржЗ **GROUP BY** рждрзЗ ржерж╛ржХрждрзЗ рж╣ржмрзЗред

тЭМ ржПржЯрж┐ ржЪрж▓ржмрзЗ ржирж╛: SELECT name, COUNT(*) FROM employees GROUP BY department;

тЬЕ ржПржЯрж┐ рж╕ржарж┐ржХ: SELECT department, COUNT(*) FROM employees GROUP BY department;

**GROUP BY** ржПрж░ ржкрж░рзЗ ржПржХрж╛ржзрж┐ржХ ржХрж▓рж╛ржоржУ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯ:

```sql
SELECT department, city, COUNT(*) 
FROM employees
GROUP BY department, city;
```












## ЁЯУК PostgreSQL-ржП Aggregate Functions (`COUNT()`, `SUM()`, `AVG()`) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЧржгржирж╛

**Aggregate Functions** рж╣рж▓ ржПржоржи ржлрж╛ржВрж╢ржи ржпрж╛ ржПржХрж╛ржзрж┐ржХ рж░рзЗржХрж░рзНржб ржмрж╛ рж╕рж╛рж░рж┐рж░ ржЙржкрж░ ржХрж╛ржЬ ржХрж░рзЗ ржПржХржЯрж┐ рж╕рж╛рж░рж╛ржВрж╢ ржлрж▓рж╛ржлрж▓ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред PostgreSQL-рж╕рж╣ рж╕ржм SQL ржбрзЗржЯрж╛ржмрзЗржЬрзЗ ржПржЗ ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ ржбрзЗржЯрж╛ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЬржирзНржп ржЦрзБржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред

---

## рзз. `COUNT()` тАУ рж╕рж╛рж░рж┐рж░ рж╕ржВржЦрзНржпрж╛ ржЧржгржирж╛

ржПржЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржЯрзЗржмрж┐рж▓ ржмрж╛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗ ржХрждржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржб ржЖржЫрзЗ рждрж╛ ржЧржгржирж╛ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред

 ржЙржжрж╛рж╣рж░ржг: ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржорзЛржЯ рж╕ржВржЦрзНржпрж╛

```sql
SELECT COUNT(*) AS total_employees
FROM employees;
```
тЮбя╕П ржПржЗ ржХрзЛрзЯрзЗрж░рж┐ ржкрзБрж░рзЛ employees ржЯрзЗржмрж┐рж▓рзЗрж░ ржорзЛржЯ рж░рзЗржХрж░рзНржб (рж╕рж╛рж░рж┐) ржЧржгржирж╛ ржХрж░ржмрзЗред

 ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗрж░ ржЙржкрж░ COUNT()
```sql

SELECT COUNT(salary) AS total_with_salary
FROM employees;
```
тЮбя╕П ржПржЯрж┐ рж╢рзБржзрзБ рж╕рзЗржЗ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛ ржЧржгржирж╛ ржХрж░ржмрзЗ ржпрзЗржЦрж╛ржирзЗ salary ржлрж╛ржБржХрж╛ (NULL) ржирж╛ред

рзи. SUM() тАУ ржорзЛржЯ ржпрзЛржЧржлрж▓ ржмрзЗрж░ ржХрж░рж╛
SUM() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ рж╕ржВржЦрзНржпрж╛ржЧржд ржХрж▓рж╛ржорзЗрж░ рж╕ржм ржорж╛ржирзЗрж░ ржпрзЛржЧржлрж▓ ржмрзЗрж░ ржХрж░рж╛ ржпрж╛рзЯред

 ржЙржжрж╛рж╣рж░ржг:
 
  рж╕ржХрж▓ ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржорзЛржЯ ржмрзЗрждржи
```sql
SELECT SUM(salary) AS total_salary
FROM employees;
```
тЮбя╕П salary ржХрж▓рж╛ржорзЗрж░ рж╕ржм ржорж╛ржи ржпрзЛржЧ ржХрж░рзЗ ржорзЛржЯ ржмрзЗрждржи рж╣рж┐рж╕рж╛ржм ржХрж░ржмрзЗред

 рзй. AVG() тАУ ржЧрзЬ ржмрзЗрж░ ржХрж░рж╛
AVG() ржПржХржЯрж┐ рж╕ржВржЦрзНржпрж╛ржЧржд ржХрж▓рж╛ржорзЗрж░ ржЧрзЬ (average) ржорж╛ржи ржЧржгржирж╛ ржХрж░рзЗред

 ржЙржжрж╛рж╣рж░ржг: ржЧрзЬ ржмрзЗрждржи
```sql
SELECT AVG(salary) AS average_salary
FROM employees;
```
тЮбя╕П ржПржЯрж┐ salary ржХрж▓рж╛ржорзЗрж░ ржЧрзЬ ржорж╛ржи ржкрзНрж░ржжрж╛ржи ржХрж░ржмрзЗред

GROUP BY ржПрж░ рж╕рж╛ржерзЗ Aggregate Functions
рждрзБржорж┐ ржпржжрж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржмрж┐ржнрж╛ржЧ (department) ржЕржирзБржпрж╛рзЯрзА ржЧрзЬ ржмрзЗрждржи ржЬрж╛ржирждрзЗ ржЪрж╛ржУ:

```sql
SELECT department, AVG(salary) AS avg_salary
FROM employees
GROUP BY department;
```
тЮбя╕П ржПржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ department ржЕржирзБржпрж╛рзЯрзА ржЧрзЬ ржмрзЗрждржи ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗред


